const g=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}};g();const i=JSON.parse(document.getElementById("json-roomname").textContent),d=JSON.parse(document.getElementById("json-username").textContent),p=JSON.parse(document.getElementById("json-req-username").textContent);document.getElementById("chat-message-input").focus();var l="";window.location.protocol==="https:"?l="wss":l="ws";console.log(l);const u=`${l}://${window.location.host}/${l}/${i}/`;console.log(u);var c=new ReconnectingWebSocket(u);c.onmessage=function(o){console.log("On Message");var t="",s=JSON.parse(o.data),a=s.username,e=new Date;let n=`${e.getHours()}:${e.getMinutes()}`;var r=f(e),m=`${r} ${n}`;console.log(a),s.message?p===a?(t=`
            <div class="w-full flex justify-start">
                <div class="bg-gray-100 rounded px-5 py-2 my-2 text-gray-700 relative"
                     style="max-width: 300px;">
                     <strong><span class="block text-xs text-right">${a}</span></strong>
                    <span class="block">${s.message}</span>
                    <span class="block text-xs text-right">${m}</span>
                </div>
            </div>`,document.getElementById("chat-messages").innerHTML+=t):(t=`
            <div class="w-full flex justify-end">
                <div class="bg-gray-100 rounded px-5 py-2 my-2 text-gray-700 relative"
                     style="max-width: 300px;">
                     <strong><span class="block text-xs text-right">${a}</span></strong>
                    <span class="block">${s.message}</span>
                    <span class="block text-xs text-left">${m}</span>
                </div>
            </div>
            `,document.getElementById("chat-messages").innerHTML+=t):alert("Message is Empty!")};c.onclose=function(o){console.log("Closed")};document.getElementById("chat-message-submit").onclick=function(o){const t=document.getElementById("chat-message-input"),s=t.value;c.send(JSON.stringify({message:s,username:d,room:i})),t.value=""};document.getElementById("chat-message-input").addEventListener("keyup",function(o){if(o.code==="Enter"){const t=document.getElementById("chat-message-input"),s=t.value;c.send(JSON.stringify({message:s,username:d,room:i})),t.value=""}});function f(o){var t=o.getDate(),s=o.getMonth()+1,a=o.getFullYear();return""+a+"-"+(s<=9?"0"+s:s)+"-"+(t<=9?"0"+t:t)}
